<!DOCTYPE html>
<html lang="en">
	<head>
    	<meta charset="utf-8">
    	<title>qualitySCHU</title>
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<meta name="description" content="Geosoftware II is a course at ifgi 2012-2013">
    	<meta name="author" content="Matthias Pfeil">
    	
    	<link href="js/bootstrap/css/bootstrap.css" rel="stylesheet">
    	<link href="js/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    	<link href="js/daterangepicker/daterangepicker.css" rel="stylesheet">
    	<link href="js/bootstrap-wizard/src/bootstrap-wizard.css" rel="stylesheet">
    	<link rel="stylesheet" href="js/leaflet/dist/leaflet.css" />
    	<link href="css/style.css" rel="stylesheet">
    	<link rel="stylesheet" href="js/leaflet/markercluster/dist/MarkerCluster.css" />
    	<link rel="stylesheet" href="js/leaflet/markercluster/dist/MarkerCluster.Default.css" />

    	<!--[if lte IE 8]><link rel="stylesheet" href="../dist/leaflet.ie.css" /><![endif]-->
	
    	<!-- Fav and touch icons -->
		<link rel="shortcut icon" href="img/favicon.ico">
    	<!--
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    	<link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
-->
    </head>
    <body>
		<div class="navbar navbar-inverse navbar-fixed-top" id="navbar">
      		<div class="navbar-inner">
        		<div class="container-fluid">
	        		<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
		        		<span class="icon-bar"></span>
		        		<span class="icon-bar"></span>
		        		<span class="icon-bar"></span>
		        	</a>
		        	<a class="brand" href="#">qualitySCHU</a>
		        	<div class="nav-collapse collapse" visible="iPhone">
			        	<ul class="nav">
			        		<li><a id="download" role="button" data-toggle="modal">Download</a></li>
			        		<li><a href="#faqModal" id="faq" role="button" data-toggle="modal">FAQ</a></li>
							<li><a href="#about" id="about" rel="popover" data-content=" qualitySCHU is a project developed by students at ifgi, Münster, 
                            which allows everyone to retrieve and visualize air quality data captured by so called air quality eggs, as well as data provided by a german state agency called LANUV.">About</a></li>
                          	<li><a href="#use" id="use" rel="popover" data-content="To retrieve air quality data, please zoom into the map and navigate to a measurement location you are interested in. Then choose one of the symbols displayed on the map.
                          	The egg icon visualizes air quality egg data measuring stations, the radio tower icon LANUV stations. Further information to this can be found in the FAQ section.
                          	After clicking on one of the icons, currently measured values will be displayed below the map. To view a table or a diagram of the data, please click on one of the corresponding symbols visualizing the different sensors.
                          	In the table view you can choose a measurement period. The table then shows all the values, which have been measured in this period of time by the different sensors. You can distinguish validated and non-validated data and 
                          	easily detect outliers by the background color of the cell. For more information concerning data validation please have a look in the FAQ section. 
                          	In the diagram view you also have the possibility to select a measurement period, as well as one, or for camparison purposes two different attributes (e.g. the relation between temperature and humidity). You can choose between 
                          	predefined measurement periods or a custom range.">Use</a></li>                            
						</ul>
					</div>
					<div class="control-group">
					</div>
					<span id="warningLoad" class="label pull-right label-warning" style="visibility:hidden;">COSM data not loaded. <a href="" onclick="add">Reload?</a></span>
				</div>
			</div>
		</div>
    
		<div id="map">
		</div>
		
		<div class="container">
			<div id="myCarousel" class="carousel slide">
			  <ol class="carousel-inner">
			    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
			    <li data-target="#myCarousel" data-slide-to="1"></li>
			  </ol>
			  <!-- Carousel items -->
			  <div class="carousel-inner">
			  	<div class="active item">
					<div class="row-fluid" id="aqe">
			    		<div class="span12">
				    		<div class="row-fluid">
					    		<div class="span6">
						    		<div class="row-fluid">
							    		<div class="span6">
								    		<img id="overview" class="img-rounded" src="img/info.png" style="width:70px; height:70px;"><h4 style="display:inline;" id="overviewForm"></h4>
								    		<h4>Overview</h4>
								    	</div>
								    	<div class="span6">
									    	<img id="tempHum" class="img-rounded" src="img/temperature.png" style="width:70px; height:70px;"><h4 style="display:inline;" id="tempForm"></h4><h4 style="display:inline;" id="sepTempHum">°C /</h4><h4 style="display:inline;" id="humForm"></h4><h4 style="display:inline;" id="sepHum">%</h4>
									    	<h4>Temperature / Humidity</h4>
									    </div>
									</div>
								</div>
								<div class="span6">
									<div class="row-fluid">
										<div class="span6">
											<img id="no2" class="img-rounded" src="img/no2.png" style="width:70px; height:70px;"><h4 style="display:inline;" id="no2Form"></h4><h4 style="display:inline;" id="humForm">ppb</h4>
											<h4>Nitrogen Dioxide</h4>
										</div>
										<div class="span6">
											<img id="co" class="img-rounded" src="img/co.png" style="width:70px; height:70px;"><h4 style="display:inline;" id="coForm"></h4><h4 style="display:inline;" id="humForm">ppb</h4>
											<h4>Carbon Monoxide</h4>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>    
			    </div>
			    <div class="item">
					<div class="row-fluid" id="lanuv">
			    		<div class="span12">
				    		<div class="row-fluid">
					    		<div class="span6">
						    		<div class="row-fluid">
							    		<div class="span3">
								    		<img id="overview" class="img-rounded" src="img/info.png" style="width:60px; height:60px;"><h4 style="display:inline;" id="overviewForm"></h4>
								    		<h5>Overview</h5>
								    	</div>
								    	<div class="span3">
									    	<img id="lanuvTempHum" class="img-rounded" src="img/temperature.png" style="width:60px; height:60px;"><h5 style="display:inline;" id="lanuvTempForm"></h5><h5 style="display:inline;" id="sepTempHum">°C /</h5><h5 style="display:inline;" id="lanuvHumForm"></h5><h5 style="display:inline;" id="lanuvSepHum">%</h5>
									    	<h5>Temperature / Humidity</h5>
									    </div>
									    <div class="span3">
									    	<img id="lanuvNO2" class="img-rounded" src="img/no2.png" style="width:60px; height:60px;"><h5 style="display:inline;" id="lanuvNO2Form"></h5><h5 style="display:inline;" id="lanuvSepNO2Form">µg/m<sup>3</sup></h5>
									    	<h5>Nitrogen Dioxide</h5>
									    </div>
									    <div class="span3">
									    	<img id="lanuvNO" class="img-rounded" src="img/co.png" style="width:60px; height:60px;"><h5 style="display:inline;" id="lanuvNOForm"></h5><h5 style="display:inline;" id="humForm">µg/m<sup>3</sup></h5>
									    	<h5>Nitrogen Monoxide</h5>
									    </div>
									</div>
								</div>
								<div class="span6">
						    		<div class="row-fluid">
							    		<div class="span3">
								    		<img id="lanuvSO2" class="img-rounded" src="img/so2.png" style="width:60px; height:60px;"><h5 style="display:inline;" id="lanuvSO2Form"></h5><h5 style="display:inline;" id="humForm">µg/m<sup>3</sup></h5>
								    		<h5>Sulfur Dioxide</h5>
								    	</div>
								    	<div class="span3">
									    	<img id="lanuvDust" class="img-rounded" src="img/dust.png" style="width:60px; height:60px;"><h5 style="display:inline;" id="lanuvDustForm"></h5><h5 style="display:inline;" id="humForm">µg/m<sup>3</sup></h5>
									    	<h5>Dust</h5>
									    </div>
									    <div class="span3">
									    	<img id="lanuvO3" class="img-rounded" src="img/o3.png" style="width:60px; height:60px;"><h5 style="display:inline;" id="lanuvO3Form"></h5><h5 style="display:inline;" id="humForm">µg/m<sup>3</sup></h5>
									    	<h5>Ozone</h5>
									    </div>
									    <div class="span3">
									    	<img id="lanuvWV" class="img-rounded" src="img/wind_velocity.png" style="width:60px; height:60px;"><h5 style="display:inline;" id="lanuvWVForm"></h5><h5 style="display:inline;" id="wvForm">m/s</h5>
									    	<h5>Wind velocity</h5>
									    </div>
									</div>
								</div>
							</div>
						</div>
					</div>    
			    </div>
			  </div>
			</div>
		</div>

		<div class="wizard" id="some-wizard">
		    <h1>Customize and download</h1>
		 
		    <div class="wizard-card" data-cardname="card1">
		        <h3>Select the service</h3>
		        Lanuv or AQE
		    </div>
		 
		    <div class="wizard-card" data-cardname="card2">
		        <h3>Select the procedures</h3>
		        Lanuv Stations or AQEs
		    </div>

			<div class="wizard-card" data-cardname="card3">
		        <h3>Select observed properties</h3>
		        Lanuv Stations or AQEs
		    </div>		    
		 	
		 	<div class="wizard-card" data-cardname="card4">
		        <h3>Select the timeframe</h3>
		        date from - until
		    </div>
		</div>

		<!-- FAQ Modal -->
		<div id="faqModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="faqModalLabel" aria-hidden="true">
	    	<div class="modal-header">
	    		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
	    		<h3 id="faqModalLabel">FAQ</h3>
	    	</div>
	    	<div class="modal-body">
		    	<div class="accordion" id="accordion2">
			    	<div class="accordion-group">
				    	<div class="accordion-heading">
					    	<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">What is an Air Quality Egg?</a>
					    </div>
					    <div id="collapseOne" class="accordion-body collapse">
					        <div class="accordion-inner"> 
                                                    An Air Quality Egg (AQE) is a low-cost sensor system which enables 
                                                    every person to get information about air quality in his direct surroundings. 
                                                    The air quality data is measured by different sensors.
							</div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">How does the data collection using AQEs work?</a>
						</div>
						<div id="collapseTwo" class="accordion-body collapse">
							<div class="accordion-inner">
                                                            The AQE is a sensor system composed of two components: 
                                                            outdoor sensors and a base station (the egg itself). 
                                                            Using an RF transmitter, the sensor data is going to be send 
                                                            wirelessly to the base station, which should be located inside. 
                                                            The measured air quality data is sent to Cosm (open source 
                                                            data platform to store and access data) in real-time.
							</div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseThree">Which sensors are available for AQEs?</a>
						</div>
						<div id="collapseThree" class="accordion-body collapse">
							<div class="accordion-inner">
                                                            The standard equipment includes an NO2 sensor and a CO Sensor 
                                                            as well as temperature and humidity sensors. Optionally, 
                                                            additional sensors can be purchased at an extra charge, 
                                                            like PM10 or ozone/O3.
							</div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseFour">To which target can the AQE data be used? </a>
						</div>
						<div id="collapseFour" class="accordion-body collapse">
							<div class="accordion-inner">
                                                            Because the measured concentrations of NO2 and CO are most responsible 
                                                            for the air pollution in urban areas, the collected data can help supporting
                                                            the improvement of air quality, since areas which are particulary affected 
                                                            by air pollution can be located much easier.
                                                        </div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseFive">What are the advantages of using AQEs?</a>
						</div>
						<div id="collapseFive" class="accordion-body collapse">
							<div class="accordion-inner"> 
							    With an air quality egg every person has the opportunity to 
                                                            participate in the conversation about air quality and learn 
                                                            about the current, as well as long-term air quality in his 
                                                            near surroundings.
							</div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseSix">What is LANUV?</a>
						</div>
						<div id="collapseSix" class="accordion-body collapse">
							<div class="accordion-inner">
							        <p> 
                                                                    LANUV is an abbreviation for "Landesamt für Natur, Umwelt und 
                                                                    Verbraucherschutz NRW". The LANUV maintains a large number of 
                                                                    stations for measuring air quality, which are eqipped with 
                                                                    additional sensors for measuring air quality.
                                                                </p>
                                                                <p>
                                                                    For further information please have a look <a href="http://www.lanuv.nrw.de/luft/temes/stat.htm" target="_blank">here</a>.
                                                                </p>
							</div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseSeven">Which values are being measured?</a>
						</div>
						<div id="collapseSeven" class="accordion-body collapse">
							<div class="accordion-inner">
							        <p>
							        	For the air quality egg data following measurements are availabe:
							        	<br>Temperature, humidity, nitrogen dioxide and carbon monoxide.
							        </p>
							        <p>     
							                Since the eggs could be located inside or outside a building, 
							                the measured values could differ considerably, even though there 
							                is only a short distance between two neighboring eggs.
							        </p>
							        <p>
							        	Temperature is measured in degree Celsius (°C) and humidity is measured in percent (%). 
							        </p>
							        <p>
							        	The NO2 and CO concentrations are both measured in 
							        	<a href="http://en.wikipedia.org/wiki/Parts_per_million" target="_blank">parts per million</a> (ppm).
							        </p>
							        <p>
							        	<b>Nitrogen dioxide</b> (NO2) is produced as an intermediate in the industrial 
							        	synthesis of nitric acid, millions of tons of which are produced each year. 
							        	As it is a toxic gas, it is one of the most important air pollutants.
							        	<br>Further information can be found 
							        	<a href="http://en.wikipedia.org/wiki/Nitrogen_dioxide" target="_blank">here</a>.
							        </p>
							        <p>
							        	<b>Carbon monoxide</b> (CO) is a chemical compound of carbon and oxygen. 
							        	In higher concentrations it is toxic to humans and animals. It can 
							        	for example result from the incomplete combustion of carbonaceous materials.
							        	<br>Further information can be found 
							        	<a href="http://en.wikipedia.org/wiki/Carbon_monoxide" target="_blank">here</a>.
							        </p>

							</div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseEight">How useful are the values obtained by Cosm?</a>
						</div>
						<div id="collapseEight" class="accordion-body collapse">
							<div class="accordion-inner">

							</div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseNine">Has the visualized data been validated?</a>
						</div>
						<div id="collapseNine" class="accordion-body collapse">
							<div class="accordion-inner">
							<p>
							In the table view you can easy distinguish validated data from non-validated data by the background color of the cell.
							</p>
							<p><b>Yellow:</b> not validated</p>							
							<p><b>Green:</b> validated and no outlier</p>
							<p><b>Red:</b> validated and outlier</p>
							<p>
							<br/>
							<img src = "https://raw.github.com/mpfeil/qualitySCHU/master/Screenshots/table_color_code.PNG"
							alt = "Table view" />
							</p>

							</div>
						</div>
					</div>
					<div class="accordion-group">
						<div class="accordion-heading">
							<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTen">What is meant by validation and how does it work?</a>
						</div>
						<div id="collapseTen" class="accordion-body collapse">
							<div class="accordion-inner">
							<p>
							In our case validation basically means finding and labeling outliers 
							in the data we get from LANUV and from the AQE's. This means no data will be deleted or changed!
							</p>
							<p>
							It is also important to note that measurements labeled as outliers are not always errors 
							in the measurements process. They may be valid observations indicating unusual events with 
							unusual values which are labeled by the validation algorithm.
							</p>
							<p>
							Outlier detection is done using the <a href="http://www.r-project.org/" target="_blank">R statistics software</a>.
							</p>
							<p>
							It basically works like this: 
							</p>
							<p>
							First of all the running <a href="http://en.wikipedia.org/wiki/Median" target="_blank">median</a> of a set of 
							non-validated measurements is calculated. 
							The window size depends on the used data (e.g. LANUV or AQE).
							</p>
							<p>
							For the validation itself we use a leftsided window ranging from x<SUB>i</SUB>  to x<SUB>i-window_size</SUB>. 
							From the values inside this window we compute the <a href="http://en.wikipedia.org/wiki/Interquartile_range" target="_blank">interquartile range</a>.
							Starting from the most recent measurement we check if the measured value is smaller than 
							the <b>running median &#x2212; 1,5 &#215; interquartile range </b> or larger than the <b>running median + 1,5 &#215; interquartile range</b>. 
							If that is the case the measurement is labeled as an outlier.
							</p>

							</div>
						</div>
					</div>

				</div>
		    </div>
		</div>

		<div id="myModal" class="modal hide fade" modalOverflow="true" tabindex="-1" data-width="760">
    		<div class="modal-header">
    			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    			<h3 id="myModalLabel"></h3>
    		</div>
    		<div class="modal-body">
    			<ul id="myTab" class="nav nav-tabs">
		    		<li><a href="#home" data-toggle="tab">Home</a></li>
		    		<li><a href="#table" data-toggle="tab">Table</a></li>
		    		<li><a href="#diagram" data-toggle="tab">Diagram</a></li>
		    	</ul>
		    	<div id="myTabContent" class="tab-content">
		    		<div class="tab-pane fade in" id="home">
		    			<div class="row-fluid">
			    			<div class="span6">
			    				<h4>Some Input</h4>
			    				<p><input type="text" class="span12"></p>
						    </div>
						    <div class="span6">
							    <h4>Some More Input</h4>
						        <p><input type="text" class="span12"></p>
							</div>
						</div>
		    		</div>
		    		<div class="tab-pane fade in" id="table">
		    			<form class="form-horizontal">
							<div class="control-group">
								<label class="control-label" for="reportrangetable">Date:</label>
								<div class="controls">
									<div id="reportrangetable">
										<i class="icon-calendar icon-large"></i>
										<span></span> <b class="caret"></b>
									</div>
								</div>
							</div>
						</form>
			            
		    			<table class="table">
			    			<thead>
			    				<tr>
			    					<th>Date</th>
			    					<th>Humidity (%)</th>
			    					<th>NO (µg/m<sup>3</sup>)</th>
			    					<th>NO<sub>2</sub> (µg/m<sup>3</sup>)</th>
			    					<th>Ozone (µg/m<sup>3</sup>)</th>
			    					<th>Dust (µg/m<sup>3</sup>)</th>
			    					<th>SO<sub>2</sub> (µg/m<sup>3</sup>)</th>
			    					<th>Temperature (°C)</th>
			    					<th>Wind velocity (m/s)</th>
			    				</tr>
			    			</thead> 
			    			<tbody id="tablebody">
			    			</tbody>
		    			</table>
		    		</div>
		    		<div class="tab-pane fade-in" id="diagram">	
		    			<div class="row-fluid">
			    			<div class="span6">
			    				<h4>Period Of Time</h4>
			    				<div id="reportrangediagram" class="pull-left">
								    <i class="icon-calendar icon-large"></i>
								    <span></span> <b class="caret"></b>
								</div>
						    </div>
						    <div class="span6">
						    	<h4>Attribute</h4>
						    	<div class="btn-group" id="multiselect" data-toggle="button">
								 	<a id="dropdown-multiselect" class="btn dropdown-toggle" data-toggle="dropdown" href="#">
								    	None selected
								    	<span class="caret"></span>
								  	</a>
								  	<ul id="multiselect-menu" class="dropdown-menu dropdown-menu-form">
								  		<li><a><label class="checkbox"><input id="real" type="checkbox" value="temperature">Temperature</input></label></a></li>
								  		<li><a><label class="checkbox"><input id="real" type="checkbox" value="humidity">Humidity</label></a></li>
								  		<li><a><label class="checkbox"><input id="real" type="checkbox" value="nmono">NO</label></a></li>
								  		<li><a><label class="checkbox"><input id="real" type="checkbox" value="no2">NO<sub>2</sub></label></a></li>
								  		<li><a><label class="checkbox"><input id="real" type="checkbox" value="wv">Wind velocity</label></a></li>
								  		<li><a><label class="checkbox"><input id="real" type="checkbox" value="so2">SO<sub>2</sub></label></a></li>
								  		<li><a><label class="checkbox"><input id="real" type="checkbox" value="ozone">Ozone</label></a></li>
								  		<li><a><label class="checkbox"><input id="real" type="checkbox" value="pm10">Dust</label></a></li>
								  	</ul>
								</div>
							</div>
						</div>	    			
			            <hr>
			            <div id="chartContainer" style="width: 500px; height: 400px">
			            </div>
		    		</div>
		    	</div>
			</div>
		    <div class="modal-footer">
		    </div>
		</div>  
        <!-- FOOTER -->
<!--
      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>&copy; 2012 ifgi</p>
-->
		<!-- Morin: COPYRIGHT-HINWEISE BITTE NICHT ENTFERNEN !-->
<!--
		<p><a href="http://thenounproject.com/noun/temperature/#icon-No7810" target="_blank">Temperature</a> designed by <a href="http://thenounproject.com/asher84" target="_blank">Ashley Reinke</a> from The Noun Project</p>
		<p><a href="http://thenounproject.com/noun/temperature/#icon-No7810" target="_blank">Shock</a> designed by <a href="http://www.unocha.org/" target="_blank">http://www.unocha.org/</a> from The Noun Project</p>		
		<p><a href="http://thenounproject.com/noun/sun/#icon-No2660" target="_blank">Sun</a> designed by <a href="http://thenounproject.com/adamwhitcroft" target="_blank">Adam Whitcroft</a> from The Noun Project</p>
      </footer>
-->

    
    	<!-- Le javascript
    	================================================== -->
    	<!-- Placed at the end of the document so the pages load faster -->
    	<script src="http://code.jquery.com/jquery-latest.js"></script>
    	<script src="js/bootstrap/js/bootstrap.js"></script>
    	<script src="js/daterangepicker/date.js"></script>
 	    <script src="js/daterangepicker/daterangepicker.js"></script>
    	<script src="js/leaflet/dist/leaflet.js"></script>
    	<script src="js/canvasjs/canvasjs.min.js"></script>
    	<script src="js/leaflet/markercluster/dist/leaflet.markercluster-src.js"></script>
    	<script src="http://d23cj0cdvyoxg0.cloudfront.net/cosmjs-1.0.0.min.js"></script> 
    	<script src="js/bootstrap-wizard/src/bootstrap-wizard.js"></script>
    	<script src="js/spin.js"></script>
    	<script src="js/leaflet.spin.js"></script>
    	<script src="js/map.js"></script>
    	<script src="js/menu.js"></script>
	</body>
</html>
